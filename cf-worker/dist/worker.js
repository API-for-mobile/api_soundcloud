!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";const n=r(1);addEventListener("fetch",e=>{if("GET"!==e.request.method)return new Response("Method not allowed",{status:500});e.respondWith(n(e))})},function(e,t,r){"use strict";const n=r(2),s=r(3),o=r(4),i=r(5);e.exports=async function(e){return async function(e){const t=new n,r=e.request;t.get("/api/search/tracks.*",e=>s.tracks(r)),t.get("/api/search/albums.*",e=>s.albums(r)),t.get("/api/search/playlists.*",e=>s.playlists(r)),t.get("/api/playlist.*",e=>o(r)),t.get("/api/related.*",e=>i(r));return await t.route(r)}(e)}},function(e,t,r){"use strict";const n=e=>t=>t.method.toLowerCase()===e.toLowerCase(),s=n("connect"),o=n("delete"),i=n("get"),a=n("head"),c=n("options"),l=n("patch"),u=n("post"),p=n("put"),d=n("trace"),h=e=>t=>{const r=new URL(t.url).pathname;return(r.match(e)||[])[0]===r};e.exports=class{constructor(){this.routes=[]}handle(e,t){return this.routes.push({conditions:e,handler:t}),this}connect(e,t){return this.handle([s,h(e)],t)}delete(e,t){return this.handle([o,h(e)],t)}get(e,t){return this.handle([i,h(e)],t)}head(e,t){return this.handle([a,h(e)],t)}options(e,t){return this.handle([c,h(e)],t)}patch(e,t){return this.handle([l,h(e)],t)}post(e,t){return this.handle([u,h(e)],t)}put(e,t){return this.handle([p,h(e)],t)}trace(e,t){return this.handle([d,h(e)],t)}all(e){return this.handle([],e)}route(e){const t=this.resolve(e);return t?t.handler(e):new Response("resource not found",{status:404,statusText:"not found",headers:{"content-type":"text/plain"}})}resolve(e){return this.routes.find(t=>!(t.conditions&&(!Array.isArray(t)||t.conditions.length))||("function"==typeof t.conditions?t.conditions(e):t.conditions.every(t=>t(e))))}}},function(e,t,r){"use strict";e.exports={tracks:async function(e){const{searchParams:t}=new URL(e.url);let r=t.get("q");if(!r)return new Response(JSON.stringify({error:"not error"}),{headers:{"content-type":"application/json;charset=UTF-8"}});const n=t.get("page");let s;s=n&&"0"!=n?`https://api-mobile.soundcloud.com/search/tracks?q=${encodeURI(r)}&limit=24&next=${24*parseInt(n)}&client_id=Fiy8xlRI0xJNNGDLbPmGUjTpPRESPx8C`:`https://api-mobile.soundcloud.com/search/tracks?q=${encodeURI(r)}&limit=24&client_id=Fiy8xlRI0xJNNGDLbPmGUjTpPRESPx8C`;var o={method:"GET",headers:e.headers};const i=await fetch(s,o),a=(await i.json()).collection;let c=[];return a.forEach(e=>{let t=e.stream_url;if(!t){let r=e.media.transcodings;t=r[r.length-1].url}t=t.replace("https://api-mobile.soundcloud.com",""),c.push({id:e.urn,title:e.title,image:e.artwork_url_template?e.artwork_url_template.replace("{size}","t300x300"):"",duration:e.full_duration,description:e.description,username:e._embedded.user.username,media:t})}),new Response(JSON.stringify({tracks:c}),{headers:{"content-type":"application/json;charset=UTF-8"}})},albums:async function(e){const{searchParams:t}=new URL(e.url);let r=t.get("q");if(!r)return new Response(JSON.stringify({error:"not error"}),{headers:{"content-type":"application/json;charset=UTF-8"}});const n=t.get("page");let s;s=n&&"0"!=n?`https://api-mobile.soundcloud.com/search/albums?q=${encodeURI(r)}&limit=24&next=${24*parseInt(n)}&client_id=Fiy8xlRI0xJNNGDLbPmGUjTpPRESPx8C`:`https://api-mobile.soundcloud.com/search/albums?q=${encodeURI(r)}&limit=24&client_id=Fiy8xlRI0xJNNGDLbPmGUjTpPRESPx8C`;var o={method:"GET",headers:e.headers};const i=await fetch(s,o),a=(await i.json()).collection;let c=[];return a.forEach(e=>{c.push({id:e.urn,title:e.title,image:e.artwork_url_template?e.artwork_url_template.replace("{size}","t300x300"):"",count:e.track_count,description:e.description})}),new Response(JSON.stringify({albums:c}),{headers:{"content-type":"application/json;charset=UTF-8"}})},playlists:async function(e){const{searchParams:t}=new URL(e.url);let r=t.get("q");if(!r)return new Response(JSON.stringify({error:"not error"}),{headers:{"content-type":"application/json;charset=UTF-8"}});const n=t.get("page");let s;s=n&&"0"!=n?`https://api-mobile.soundcloud.com/search/playlists_without_albums?q=${encodeURI(r)}&limit=24&next=${24*parseInt(n)}&client_id=Fiy8xlRI0xJNNGDLbPmGUjTpPRESPx8C`:`https://api-mobile.soundcloud.com/search/playlists_without_albums?q=${encodeURI(r)}&limit=24&client_id=Fiy8xlRI0xJNNGDLbPmGUjTpPRESPx8C`;var o={method:"GET",headers:e.headers};const i=await fetch(s,o),a=(await i.json()).collection;let c=[];return a.forEach(e=>{c.push({id:e.urn,title:e.title,image:e.artwork_url_template?e.artwork_url_template.replace("{size}","t300x300"):"",count:e.track_count,description:e.description})}),new Response(JSON.stringify({playlists:c}),{headers:{"content-type":"application/json;charset=UTF-8"}})}}},function(e,t,r){"use strict";e.exports=async function(e){const{searchParams:t}=new URL(e.url);let r=t.get("id");if(!r)return new Response(JSON.stringify({error:"not error"}),{headers:{"content-type":"application/json;charset=UTF-8"}});let n=`https://api-mobile.soundcloud.com/playlists/${r}/info?client_id=Fiy8xlRI0xJNNGDLbPmGUjTpPRESPx8C`;var s={method:"GET",headers:e.headers};const o=await fetch(n,s),i=(await o.json()).tracks.collection;let a=[];return i.forEach(e=>{let t=e.stream_url;if(!t){let r=e.media.transcodings;t=r[r.length-1].url}t=t.replace("https://api-mobile.soundcloud.com",""),a.push({id:e.urn,title:e.title,image:e.artwork_url_template?e.artwork_url_template.replace("{size}","t300x300"):"",duration:e.full_duration,description:e.description,username:e._embedded.user.username,media:t})}),new Response(JSON.stringify({tracks:a}),{headers:{"content-type":"application/json;charset=UTF-8"}})}},function(e,t,r){"use strict";e.exports=async function(e){const{searchParams:t}=new URL(e.url);let r=t.get("id");if(!r)return new Response(JSON.stringify({error:"not error"}),{headers:{"content-type":"application/json;charset=UTF-8"}});let n=`https://api-mobile.soundcloud.com/tracks/${r}/related?client_id=Fiy8xlRI0xJNNGDLbPmGUjTpPRESPx8C`;console.log(n);var s={method:"GET",headers:e.headers};const o=await fetch(n,s),i=(await o.json()).collection;let a=[];return i.forEach(e=>{let t=e.stream_url;if(!t){let r=e.media.transcodings;t=r[r.length-1].url}t=t.replace("https://api-mobile.soundcloud.com",""),a.push({id:e.urn,title:e.title,image:e.artwork_url_template?e.artwork_url_template.replace("{size}","t300x300"):"",duration:e.full_duration,description:e.description,username:e._embedded.user.username,media:t})}),new Response(JSON.stringify({tracks:a}),{headers:{"content-type":"application/json;charset=UTF-8"}})}}]);